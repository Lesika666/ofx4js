<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Ofx4js</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<script src="assets/js/modernizr.js"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.js" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">Ofx4js</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1> Ofx4js</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<h1 id="ofx4js">Ofx4js</h1>
				<p>A pure javascript port of <a href="http://ofx4j.sourceforge.net/">OFX4J</a>- an <a href="http://ofx.net/">OFX</a>
				implementation.  Works in node.js and in browsers (see security note below).</p>
				<p>Note: There is no affiliation between the Ofx4j and Ofx4js projects.</p>
				<h2 id="installation">Installation</h2>
				<p>Install with</p>
				<pre><code>  npm <span class="hljs-keyword">install</span> ofx4js
</code></pre><p>Then either</p>
				<pre><code>  <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"path/to/ofx4js.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
</code></pre><p>or</p>
				<pre><code>  <span class="hljs-reserved">var</span> ofx4js = <span class="hljs-built_in">require</span>(<span class="hljs-string">"ofx4js"</span>);
</code></pre><h2 id="usage">Usage</h2>
				<p>To parse an OFX response:</p>
				<pre><code class="lang-js">  <span class="hljs-comment">// aliases</span>
  <span class="hljs-keyword">var</span> AggregateUnmarshaller = ofx4js.io.AggregateUnmarshaller;
  <span class="hljs-keyword">var</span> ResponseEnvelope = ofx4js.domain.data.ResponseEnvelope;

  <span class="hljs-comment">// your ofx data</span>
  <span class="hljs-keyword">var</span> ofxData = <span class="hljs-string">"OFXHEADER:100..."</span>;

  <span class="hljs-comment">// an unmarshaller that will read responses.  <span class="hljs-doctag">Note</span> you will use a </span>
  <span class="hljs-comment">//  ResponseEnvelope to read responses, and a RequestEnvelope to read</span>
  <span class="hljs-comment">//  requests.</span>
  <span class="hljs-keyword">var</span> m = <span class="hljs-keyword">new</span> AggregateUnmarshaller(ResponseEnvelope);

  <span class="hljs-comment">// parse the string into the ofx data structures</span>
  <span class="hljs-keyword">var</span> data = m.unmarshal(ofxData);

  <span class="hljs-comment">// read the data</span>
  <span class="hljs-keyword">var</span> messageSets = data.getMessageSets();
  <span class="hljs-keyword">var</span> bankingResponse = messageSets[<span class="hljs-number">1</span>].getStatementResponse();
</code></pre>
				<p>To download a bank&#39;s profile information:</p>
				<pre><code class="lang-js">  <span class="hljs-comment">// aliases</span>
  <span class="hljs-keyword">var</span> BaseFinancialInstitutionData = ofx4js.client.impl.BaseFinancialInstitutionData;
  <span class="hljs-keyword">var</span> OFXV1Connection = ofx4js.client.net.OFXV1Connection;

  <span class="hljs-comment">// input your bank's information.  See http://www.ofxhome.com/</span>
  <span class="hljs-keyword">var</span> bank = <span class="hljs-keyword">new</span> BaseFinancialInstitutionData();
  bank.setFinancialInstitutionId(...);
  bank.setOrganization(...);
  bank.setOFXURL(...);
  bank.setName(...);

  <span class="hljs-keyword">var</span> connection = <span class="hljs-keyword">new</span> OFXV1Connection();

  <span class="hljs-keyword">var</span> service = <span class="hljs-keyword">new</span> FinancialInstitutionImpl(bank, connection);
  <span class="hljs-keyword">return</span> service.readProfile()
  .then(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) </span>{
    <span class="hljs-comment">// data successfully retrieved</span>
    <span class="hljs-built_in">console</span>.log(data);
  });
</code></pre>
				<p>NOTE: making an OFX connection will fail security checks in browsers.  On Chrome you
				can make it run with the &quot;--disable-web-security&quot; command-line option</p>
				<p>e.g. (OSX): open /Applications/Google\ Chrome.app --args --disable-web-security</p>
				<h2 id="status">Status</h2>
				<p>Presently it can parse ofx strings, create ofx requests, and contact servers.
				Good enough to get started, but expect bugs.</p>
				<h2 id="port">Port</h2>
				<p>Ofx4js was ported from Ofx4j at r45 (1.7)</p>
				<p>This project contains a lot of files that were ported from java to javascript by a combination of
					a perl script and a lot of hand editing.  Because of syntax differences between the two languages,
				not everything ported especially cleanly.  There are probably hidden bugs stemming from the port.</p>
				<p>Because the code is a port, there are a lot of java-isms (e.g. property accessors) that don&#39;t make sense
				in javascript and could probably be simplified.  There are no plans to address this.</p>
				<p>This is not a full port of ofx4j- specifically, the server portion is gone, as are the
				FinancialInstitutionDataStore-related classes.  That is, you will have to provide your own financial insitution</p>
				<h2 id="contributing">Contributing</h2>
				<p>Github push requests are welcome.  Please create test cases.  Bugs that are originally in Ofx4j should
				be contributed to that project.</p>
				<h2 id="license">License</h2>
				<p>Ofx4j was released under the Apache License V2.0.  The license has been kept on files originally from that
					project, and where applicable the files remain under that license.  Where not specified (i.e., the files
				created especially for the javascript port) the files are released under the MIT license.</p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
					<li class=" tsd-kind-module tsd-is-not-exported">
						<a href="modules/ofx4js.html">ofx4js</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-variable tsd-is-not-exported">
						<a href="globals.html#module" class="tsd-kind-icon">module</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-module"><span class="tsd-kind-icon">Module</span></li>
				<li class="tsd-kind-object-literal"><span class="tsd-kind-icon">Object literal</span></li>
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-index-signature"><span class="tsd-kind-icon">Index signature</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
				<li class="tsd-kind-enum-member"><span class="tsd-kind-icon">Enumeration member</span></li>
				<li class="tsd-kind-property tsd-parent-kind-enum"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-enum"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-interface"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-interface"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class"><span class="tsd-kind-icon">Accessor</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-class"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li>
				<li class="tsd-kind-call-signature tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="http://typedoc.io" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="assets/js/search.js"><' + '/script>');</script>
</body>
</html>